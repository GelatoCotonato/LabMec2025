<?xml version='1.0'?>
  <robot name='wamv'>
    <static>false</static>
    <link name='base_footprint'/>
    <link name='base_link'>
      <enable_wind>true</enable_wind>
      <inertial>
        <mass>180</mass>
        <inertia>
          <ixx>120</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>393</iyy>
          <iyz>0</iyz>
          <izz>446</izz>
        </inertia>
      </inertial>
      <visual name='base_visual'>
        <geometry>
          <mesh>
            <uri>meshes/WAM-V-Base.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='top_base'>
        <pose>0 0 1.25 0 0 0</pose>
        <geometry>
          <box>
            <size>1.8500000000000001 1 0.10000000000000001</size>
          </box>
        </geometry>
      </collision>
      <collision name='left_float'>
        <pose>-0.40000000000000002 1.03 0.20000000000000001 0 1.5700000000001271 0</pose>
        <geometry>
          <cylinder>
            <length>4</length>
            <radius>0.20000000000000001</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='left_mid_float'>
        <pose>1.8500000000000001 1.03 0.29999999999999999 0 1.3799999999999997 0</pose>
        <geometry>
          <cylinder>
            <length>0.5</length>
            <radius>0.17000000000000001</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='left_front_float'>
        <pose>2.2999999999999998 1.03 0.40000000000000002 0 1.3 0</pose>
        <geometry>
          <cylinder>
            <length>0.45000000000000001</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='right_float'>
        <pose>-0.40000000000000002 -1.03 0.20000000000000001 0 1.5700000000001271 0</pose>
        <geometry>
          <cylinder>
            <length>4</length>
            <radius>0.20000000000000001</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='right_mid_float'>
        <pose>1.8500000000000001 -1.03 0.29999999999999999 0 1.3799999999999997 0</pose>
        <geometry>
          <cylinder>
            <length>0.5</length>
            <radius>0.17000000000000001</radius>
          </cylinder>
        </geometry>
      </collision>
      <collision name='right_front_float'>
        <pose>2.2999999999999998 -1.03 0.40000000000000002 0 1.3 0</pose>
        <geometry>
          <cylinder>
            <length>0.45000000000000001</length>
            <radius>0.12</radius>
          </cylinder>
        </geometry>
      </collision>
    </link>
    <link name='left_engine_link'>
      <pose>-2.3737759999999999 1.0271349999999999 0.31823699999999999 0 0 0</pose>
      <visual name='left_engine_visual'>
        <geometry>
          <mesh>
            <uri>meshes/engine.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='left_engine_vertical_axis_collision'>
        <pose>-0.16 0 -0.23999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.20000000000000001 0.14999999999999999 0.82999999999999996</size>
          </box>
        </geometry>
      </collision>
      <collision name='left_engine_rear_end_collision'>
        <pose>-0.34000000000000002 0 0.12 0 0 0</pose>
        <geometry>
          <box>
            <size>0.12 0.14999999999999999 0.12</size>
          </box>
        </geometry>
      </collision>
      <inertial>
        <mass>15</mass>
        <inertia>
          <ixx>0.88924499999999995</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.81112499999999998</iyy>
          <iyz>0</iyz>
          <izz>0.078125</izz>
        </inertia>
      </inertial>
    </link>
    <joint name='base_footprint_joint' type='fixed'>
      <parent>base_footprint</parent>
      <child>base_link</child>
    </joint>
    <link name='left_propeller_link'>
      <pose>-2.651932 1.0271349999999999 -0.191134 0 0 0</pose>
      <visual name='left_propeller_visual'>
        <geometry>
          <mesh>
            <uri>meshes/propeller.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='left_propeller_collision'>
        <pose>-0.080000000000000002 0 0 0 1.5700000000001271 0</pose>
        <geometry>
          <cylinder>
            <length>0.17999999999999999</length>
            <radius>0.23999999999999999</radius>
          </cylinder>
        </geometry>
      </collision>
      <inertial>
        <mass>0.5</mass>
        <inertia>
          <ixx>0.0085450000000000005</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0085450000000000005</iyy>
          <iyz>0</iyz>
          <izz>0.0144</izz>
        </inertia>
      </inertial>
    </link>
    <joint name='left_chasis_engine_joint' type='revolute'>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-1.5707899999999999</lower>
          <upper>1.5707899999999999</upper>
          <effort>10</effort>
          <velocity>10</velocity>
        </limit>
      </axis>
      <parent>base_link</parent>
      <child>left_engine_link</child>
    </joint>
    <joint name='left_engine_propeller_joint' type='revolute'>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-inf</lower>
          <upper>inf</upper>
        </limit>
        <dynamics>
          <friction>0.050000000000000003</friction>
          <damping>0.050000000000000003</damping>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <parent>left_engine_link</parent>
      <child>left_propeller_link</child>
    </joint>
    <link name='right_engine_link'>
      <pose>-2.3737759999999999 -1.0271349999999999 0.31823699999999999 0 0 0</pose>
      <visual name='right_engine_visual'>
        <geometry>
          <mesh>
            <uri>meshes/engine.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='right_engine_vertical_axis_collision'>
        <pose>-0.16 0 -0.23999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.20000000000000001 0.14999999999999999 0.82999999999999996</size>
          </box>
        </geometry>
      </collision>
      <collision name='right_engine_rear_end_collision'>
        <pose>-0.34000000000000002 0 0.12 0 0 0</pose>
        <geometry>
          <box>
            <size>0.12 0.14999999999999999 0.12</size>
          </box>
        </geometry>
      </collision>
      <inertial>
        <mass>15</mass>
        <inertia>
          <ixx>0.88924499999999995</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.81112499999999998</iyy>
          <iyz>0</iyz>
          <izz>0.078125</izz>
        </inertia>
      </inertial>
    </link>
    <link name='right_propeller_link'>
      <pose>-2.651932 -1.0271349999999999 -0.191134 0 0 0</pose>
      <visual name='right_propeller_visual'>
        <geometry>
          <mesh>
            <uri>meshes/propeller.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='right_propeller_collision'>
        <pose>-0.080000000000000002 0 0 0 1.5700000000001271 0</pose>
        <geometry>
          <cylinder>
            <length>0.17999999999999999</length>
            <radius>0.23999999999999999</radius>
          </cylinder>
        </geometry>
      </collision>
      <inertial>
        <mass>0.5</mass>
        <inertia>
          <ixx>0.0085450000000000005</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0085450000000000005</iyy>
          <iyz>0</iyz>
          <izz>0.0144</izz>
        </inertia>
      </inertial>
    </link>
    <joint name='right_chasis_engine_joint' type='revolute'>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <lower>-1.5707899999999999</lower>
          <upper>1.5707899999999999</upper>
          <effort>10</effort>
          <velocity>10</velocity>
        </limit>
      </axis>
      <parent>base_link</parent>
      <child>right_engine_link</child>
    </joint>
    <joint name='right_engine_propeller_joint' type='revolute'>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <effort>100</effort>
          <velocity>100</velocity>
          <lower>-inf</lower>
          <upper>inf</upper>
        </limit>
        <dynamics>
          <friction>0.050000000000000003</friction>
          <damping>0.050000000000000003</damping>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
      </axis>
      <parent>right_engine_link</parent>
      <child>right_propeller_link</child>
    </joint>
    <link name='battery_dx_link'>
      <pose relative_to='base_link'>-0.13 -2.0529999999999999 0 0 0 0</pose>
      <visual name='battery_visual'>
        <geometry>
          <mesh>
            <uri>meshes/battery.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='battery_collision'>
        <pose>0 0 0.14999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.59999999999999998 0.40000000000000002 0.31</size>
          </box>
        </geometry>
      </collision>
      <inertial>
        <pose>0 0 0.14999999999999999 0 0 0</pose>
        <mass>23.5</mass>
        <inertia>
          <ixx>0.50152916666666669</ixx>
          <iyy>0.8931958333333333</iyy>
          <izz>1.0183333333333333</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>
    <joint name='battery_dx_joint' type='fixed'>
      <parent>base_link</parent>
      <child>battery_dx_link</child>
    </joint>
    <link name='battery_sx_link'>
      <pose relative_to='base_link'>-0.13 0 0 0 0 0</pose>
      <visual name='battery_visual'>
        <geometry>
          <mesh>
            <uri>meshes/battery.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='battery_collision'>
        <pose>0 0 0.14999999999999999 0 0 0</pose>
        <geometry>
          <box>
            <size>0.59999999999999998 0.40000000000000002 0.31</size>
          </box>
        </geometry>
      </collision>
      <inertial>
        <pose>0 0 0.14999999999999999 0 0 0</pose>
        <mass>23.5</mass>
        <inertia>
          <ixx>0.50152916666666669</ixx>
          <iyy>0.8931958333333333</iyy>
          <izz>1.0183333333333333</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>
    <joint name='battery_sx_joint' type='fixed'>
      <parent>base_link</parent>
      <child>battery_sx_link</child>
    </joint>
    <link name='cpu_cases_link'>
      <pose relative_to='base_link'>0.072999999999999995 0 0 0 0 0</pose>
      <visual name='cpu_cases_visual'>
        <geometry>
          <mesh>
            <uri>meshes/cpu_cases.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <collision name='cpu_case_1_collision'>
        <pose>0.185 0 0 0 0 0</pose>
        <geometry>
          <box>
            <size>0.59499999999999997 0.82999999999999996 0.46999999999999997</size>
          </box>
        </geometry>
      </collision>
      <collision name='cpu_case_2_collision'>
        <pose>-0.29999999999999999 0 -0.091999999999999998 0 0 0</pose>
        <geometry>
          <box>
            <size>0.375 0.64000000000000001 0.28000000000000003</size>
          </box>
        </geometry>
      </collision>
      <inertial>
        <mass>20</mass>
        <inertia>
          <ixx>1.51633333333333</ixx>
          <iyy>1.9363333333333299</iyy>
          <izz>2.7163333333333299</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
    </link>
    <joint name='cpu_cases_joint' type='fixed'>
      <parent>base_link</parent>
      <child>cpu_cases_link</child>
    </joint>
    <link name='gps_link'>
      <pose>0 0 1.5 0 0 0</pose>
      <sensor name='gps_sensor' type='gps'>
        <always_on>true</always_on>
        <update_rate>1</update_rate>
        <visualize>true</visualize>
        <gps>
          <position_sensing>
            <horizontal>
              <noise type='gaussian'>
                <mean>0</mean>
                <stddev>9.9999999999999995e-07</stddev>
              </noise>
            </horizontal>
            <vertical>
              <noise type='gaussian'>
                <mean>0</mean>
                <stddev>9.9999999999999995e-07</stddev>
              </noise>
            </vertical>
          </position_sensing>
        </gps>
        <topic>wamv/gps_link/gps_sensor/fix</topic>
      </sensor>
    </link>
    <joint name='gps_fixed_joint' type='fixed'>
      <parent>base_link</parent>
      <child>gps_link</child>
    </joint>
    <link name='tripod_ring_link'>
      <pose relative_to='base_link'>0.77000000000000002 0 1.3 0 0 0</pose>
      <inertial>
        <mass>0.14999999999999999</mass>
        <inertia>
          <ixx>0.00014999999999999999</ixx>
          <iyy>0.00014999999999999999</iyy>
          <izz>0.0001</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
        <pose>0 0 0.01 0 0 0</pose>
      </inertial>
      <collision name='tripod_ring_collision'>
        <geometry>
          <mesh>
            <uri>meshes/ring.dae</uri>
            <scale>0.0030000000000000001 0.0030000000000000001 0.0030000000000000001</scale>
          </mesh>
        </geometry>
      </collision>
      <visual name='ring_visual'>
        <geometry>
          <mesh>
            <uri>meshes/ring.dae</uri>
            <scale>0.0030000000000000001 0.0030000000000000001 0.0030000000000000001</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.349999994 0.349999994 0.379999995 1</ambient>
          <diffuse>0.649999976 0.649999976 0.699999988 1</diffuse>
          <specular>0.949999988 0.949999988 0.980000019 1</specular>
        </material>
      </visual>
    </link>
    <link name='tripod_legs_link'>
      <pose relative_to='tripod_ring_link'>0 0 0 0 0 0</pose>
      <inertial>
        <pose>0 0 -0.050000000000000003 0 0 0</pose>
        <mass>0.34999999999999998</mass>
        <inertia>
          <ixx>0.00080000000000000004</ixx>
          <iyy>0.00080000000000000004</iyy>
          <izz>0.00050000000000000001</izz>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyz>0</iyz>
        </inertia>
      </inertial>
      <collision name='tripod_legs_collision'>
        <geometry>
          <mesh>
            <uri>meshes/legs.dae</uri>
            <scale>0.0030000000000000001 0.0030000000000000001 0.0030000000000000001</scale>
          </mesh>
        </geometry>
        <surface>
          <friction>
            <ode>
              <mu>0.69999999999999996</mu>
            </ode>
          </friction>
        </surface>
      </collision>
      <visual name='tripod_legs_visual'>
        <geometry>
          <mesh>
            <uri>meshes/legs.dae</uri>
            <scale>0.0030000000000000001 0.0030000000000000001 0.0030000000000000001</scale>
          </mesh>
        </geometry>
        <material>
          <ambient>0.150000006 0.150000006 0.150000006 1</ambient>
          <diffuse>0.25 0.25 0.25 1</diffuse>
          <specular>0.349999994 0.349999994 0.349999994 1</specular>
        </material>
      </visual>
    </link>
    <joint name='tripod_ring_legs_joint' type='fixed'>
      <parent>tripod_ring_link</parent>
      <child>tripod_legs_link</child>
    </joint>
    <joint name='tripod_joint' type='fixed'>
      <parent>base_link</parent>
      <child>tripod_ring_link</child>
    </joint>
    <link name='lidar_link'>
      <pose relative_to='tripod_ring_link'>0 0 0.22700000000000001 0 0 0</pose>
      <inertial>
        <mass>0.82999999999999996</mass>
        <inertia>
          <ixx>0.001</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.001</iyy>
          <iyz>0</iyz>
          <izz>0.001</izz>
        </inertia>
      </inertial>
      <collision name='lidar_collision'>
        <pose>0 0 0.035999999999999997 0 0 0</pose>
        <geometry>
          <cylinder>
            <radius>0.051499999999999997</radius>
            <length>0.071999999999999995</length>
          </cylinder>
        </geometry>
      </collision>
      <visual name='lidar_visual'>
        <geometry>
          <mesh>
            <uri>meshes/lidar_3d_v1.dae</uri>
          </mesh>
        </geometry>
      </visual>
      <sensor name='gpu_lidar' type='gpu_lidar'>
        <pose>0 0 0.035999999999999997 0 0.139626 0</pose>
        <update_rate>5</update_rate>
        <topic>scan</topic>
        <ray>
          <scan>
            <horizontal>
              <samples>640</samples>
              <resolution>1</resolution>
              <min_angle>-1.396263</min_angle>
              <max_angle>1.396263</max_angle>
            </horizontal>
            <vertical>
              <samples>16</samples>
              <resolution>1</resolution>
              <min_angle>-0.26179000000000002</min_angle>
              <max_angle>0.26179000000000002</max_angle>
            </vertical>
          </scan>
          <range>
            <min>0.10000000000000001</min>
            <max>30</max>
            <resolution>0.01</resolution>
          </range>
          <noise>
            <type>gaussian</type>
            <mean>0</mean>
            <stddev>0.01</stddev>
          </noise>
        </ray>
        <always_on>true</always_on>
        <visualize>true</visualize>
        <gz_frame_id>wamv/base_footprint</gz_frame_id>
      </sensor>
    </link>
    <joint name='lidar_joint' type='fixed'>
      <parent>tripod_ring_link</parent>
      <child>lidar_link</child>
    </joint>
    <plugin name='gz::sim::systems::Thruster' filename='gz-sim-thruster-system'>
      <joint_name>left_engine_propeller_joint</joint_name>
      <thrust_coefficient>0.004422</thrust_coefficient>
      <fluid_density>1000</fluid_density>
      <propeller_diameter>0.2</propeller_diameter>
      <velocity_control>true</velocity_control>
    </plugin>
    <plugin name='gz::sim::systems::JointPositionController' filename='gz-sim-joint-position-controller-system'>
      <joint_name>left_chasis_engine_joint</joint_name>
      <use_velocity_commands>true</use_velocity_commands>
      <topic>/wamv/left/thruster/joint/cmd_pos</topic>
    </plugin>
    <plugin name='gz::sim::systems::Thruster' filename='gz-sim-thruster-system'>
      <joint_name>right_engine_propeller_joint</joint_name>
      <thrust_coefficient>0.004422</thrust_coefficient>
      <fluid_density>1000</fluid_density>
      <propeller_diameter>0.2</propeller_diameter>
      <velocity_control>true</velocity_control>
    </plugin>
    <plugin name='gz::sim::systems::JointPositionController' filename='gz-sim-joint-position-controller-system'>
      <joint_name>right_chasis_engine_joint</joint_name>
      <use_velocity_commands>true</use_velocity_commands>
      <topic>/wamv/right/thruster/joint/cmd_pos</topic>
    </plugin>
    <plugin name='wamv_gazebo::Surface' filename='libSurface.so'>
      <link_name>base_link</link_name>
      <hull_length>4.9</hull_length>
      <hull_radius>0.213</hull_radius>
      <fluid_level>0</fluid_level>
      <points>
        <point>0.6 1.03 0</point>
        <point>-1.4 1.03 0</point>
      </points>
      <wavefield>
        <topic>/wamv_gazebo/wavefield/parameters</topic>
      </wavefield>
    </plugin>
    <plugin name='wamv_gazebo::Surface' filename='libSurface.so'>
      <link_name>base_link</link_name>
      <hull_length>4.9</hull_length>
      <hull_radius>0.213</hull_radius>
      <fluid_level>0.0</fluid_level>
      <points>
        <point>0.6 -1.03 0</point>
        <point>-1.4 -1.03 0</point>
      </points>
      <wavefield>
        <topic>/wamv_gazebo/wavefield/parameters</topic>
      </wavefield>
    </plugin>
    <plugin name='gz::sim::systems::Hydrodynamics' filename='gz-sim-hydrodynamics-system'>
      <link_name>base_link</link_name>
      <xDotU>0.0</xDotU>
      <yDotV>0.0</yDotV>
      <nDotR>0.0</nDotR>
      <xU>-51.3</xU>
      <xAbsU>-72.4</xAbsU>
      <yV>-40.0</yV>
      <yAbsV>0.0</yAbsV>
      <zW>-500.0</zW>
      <kP>-50.0</kP>
      <mQ>-50.0</mQ>
      <nR>-400.0</nR>
      <nAbsR>0.0</nAbsR>
    </plugin>
    <plugin name='gz::sim::systems::OdometryPublisher' filename='libgz-sim-odometry-publisher-system.so'>
      <odom_topic>odom</odom_topic>
      <frame_id>odom</frame_id>
      <child_frame_id>base_footprint</child_frame_id>
      <tf_topic>/tf</tf_topic>
      <publish_tf>true</publish_tf>
      <odom_publish_frequency>30</odom_publish_frequency>
    </plugin>
  </robot>
</sdf>
